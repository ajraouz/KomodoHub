<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post Page</title>
    <link rel="stylesheet" href="Post.css">
    <script src="Protect.js"></script>
    <script src="main.js"></script>
</head>
<body> 
    <div class="navbar">
        <a href="HomePage.html">
            <img src="images/komodoLogo.png" alt="Logo" class="logo">
        </a>
        
        <div class="nav-center">
            <a href="CommunityLibrary.html"><button>Community Library</button></a>
            <a href="SchoolLibrary.html"><button>School Library</button></a>
            <a href="Post.html"><button class="post-btn">Post</button></a>
            <a href="Games.html"><button>Games</button></a>
        </div>
        <button class="login">Login</button>
    </div>

    <div class="container">
        <div class="create-post-title">Create the Post</div>
        <form id="post-form" enctype="multipart/form-data">
            <div class="post-box">
                <div class="profile-info">
                    <img src="images/default.png" alt="Profile" class="profile-img" onerror="this.onerror=null;this.src='images/default.png';">
                    <div>
                        <h2 class="name" id="display-name">Loading...</h2> 
                        <p class="username" id="display-username">@loading</p>
                        <p class="role"><span id="display-role">Loading...</span></p>
                    </div>
                </div>                

                <!-- Dropdown to choose posting destination -->
                <label for="post-type">Post to:</label>
                <select name="post-type" id="post-type">
                    <option value="school">School Library</option>
                    <option value="community">Community Library</option>
                    <option value="both" style="display: none;">Both (School & Community)</option>
                </select>

                <input type="text" name="title" id="title" placeholder="Title" required>
                <textarea name="content" id="content" placeholder="Write your post here" required></textarea>
                
                <!-- Hidden owner field -->
                <input type="hidden" name="owner" id="post-owner"> 

                <div class="button-container">
                    <label for="media-upload" class="media-btn">ðŸ“· Add media</label>
                    <input type="file" id="media-upload" name="image" hidden>
                    <button type="submit" id="post-button">Post</button>
                </div>
            </div>
        </form>
    </div>

    <script src="Post.js"></script>
</body>
</html>
